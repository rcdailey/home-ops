# yaml-language-server: $schema=https://raw.githubusercontent.com/siderolabs/talos/refs/heads/main/pkg/machinery/config/schemas/config.schema.json
---
# Allow Talos API access from system-upgrade namespace only (principle of least privilege)
machine:
  features:
    kubernetesTalosAPIAccess:
      allowedKubernetesNamespaces:
      - system-upgrade
      allowedRoles:
      - os:admin
      enabled: true

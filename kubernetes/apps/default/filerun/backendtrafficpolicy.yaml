---
# yaml-language-server: $schema=https://gateway.envoyproxy.io/v1alpha1/backendtrafficpolicy.json
apiVersion: gateway.envoyproxy.io/v1alpha1
kind: BackendTrafficPolicy
metadata:
  name: filerun-webdav-timeout
spec:
  targetRefs:
  - group: gateway.networking.k8s.io
    kind: HTTPRoute
    name: filerun
  timeout:
    http:
      # Extend timeout for WebDAV PROPFIND operations on large directories.
      # Nextcloud client sync performs deep directory traversals that can
      # exceed the default 15s Envoy timeout, especially with thousands of files.
      # Set to 120s to accommodate large directory listings while still providing
      # reasonable protection against hung connections.
      requestTimeout: 120s

---
# yaml-language-server: $schema=https://goauthentik.io/blueprints/schema.json
version: 1
metadata:
  name: SilverBullet Proxy Provider
  labels:
    blueprints.goauthentik.io/instantiate: "true"
entries:
- model: authentik_providers_proxy.proxyprovider
  identifiers:
    name: silverbullet
  attrs:
    name: silverbullet
    external_host: https://notes.${SECRET_DOMAIN}
    internal_host: http://silverbullet.default:3000
    mode: forward_single
    intercept_header_auth: true
    refresh_token_validity: days=30
    invalidation_flow: !Find [authentik_flows.flow, [slug, default-provider-invalidation-flow]]
    authorization_flow: !Find [authentik_flows.flow, [slug, default-provider-authorization-implicit-consent]]

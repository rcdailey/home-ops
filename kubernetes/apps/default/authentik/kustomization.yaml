---
# yaml-language-server: $schema=https://www.schemastore.org/kustomization.json
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- ./secret.sops.yaml
- ./helmrelease.yaml
- ./httproute.yaml
- ./referencegrant.yaml

# Generate ConfigMap for blueprints from blueprint files
configMapGenerator:
- name: authentik-blueprints
  files:
  - blueprints/qbittorrent-provider.yaml
  - blueprints/qbittorrent-application.yaml
  - blueprints/sabnzbd-provider.yaml
  - blueprints/sabnzbd-application.yaml
  - blueprints/custom-users.yaml
  - blueprints/outpost-configuration.yaml
  options:
    disableNameSuffixHash: true
    labels:
      app.kubernetes.io/name: authentik
      app.kubernetes.io/component: blueprints

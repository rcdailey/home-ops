---
# yaml-language-server: $schema=https://json.schemastore.org/kustomization.json
# NOTE: Volsync backup intentionally not configured for this app.
# Reason: Configuration is managed via configMapGenerator (config.yml in Git).
# PVC only contains regeneratable data: overlays (2.7GB generated images),
# reports, and cache. All can be regenerated from Plex metadata.
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- ./externalsecret.yaml
- ./helmrelease.yaml
- ./pvc.yaml
configMapGenerator:
- name: kometa-configmap
  files:
  - ./config/config.yml
  - ./config/movies.yml
  - ./config/kids-movies.yml
  - ./config/kids-anime.yml
  - ./config/monogatari.yml
generatorOptions:
  disableNameSuffixHash: true

---
provider: rfc2136
env:
- name: EXTERNAL_DNS_RFC2136_HOST
  value: dns-gateway
- name: EXTERNAL_DNS_RFC2136_PORT
  value: "53"
- name: EXTERNAL_DNS_RFC2136_ZONE
  value: "${SECRET_DOMAIN}"
- name: EXTERNAL_DNS_RFC2136_TSIG_KEYNAME
  value: external-dns-key
- name: EXTERNAL_DNS_RFC2136_TSIG_SECRET_ALG
  value: hmac-sha256
- name: EXTERNAL_DNS_RFC2136_TSIG_SECRET
  valueFrom:
    secretKeyRef:
      name: external-dns-secret
      key: tsig-secret
triggerLoopOnEvent: true
policy: sync
txtPrefix: k8s.
txtOwnerId: technitium
domainFilters: ["${SECRET_DOMAIN}"]
serviceMonitor:
  enabled: true
podAnnotations:
  secret.reloader.stakater.com/reload: external-dns-secret

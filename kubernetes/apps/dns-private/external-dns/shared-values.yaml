---
provider:
  name: webhook
  webhook:
    image:
      repository: ghcr.io/muhlba91/external-dns-provider-adguard
      tag: v9.0.1
    env:
    - name: LOG_LEVEL
      value: info
    - name: ADGUARD_URL
      value: "http://adguard-home-0.adguard-home.dns-private.svc.cluster.local:3000"
    - name: ADGUARD_USER
      valueFrom:
        secretKeyRef:
          name: adguard-home-credentials
          key: username
    - name: ADGUARD_PASSWORD
      valueFrom:
        secretKeyRef:
          name: adguard-home-credentials
          key: password

image:
  repository: registry.k8s.io/external-dns/external-dns
  tag: v0.18.0

extraArgs:
- --txt-owner-id=dns-private

triggerLoopOnEvent: true
policy: sync
txtPrefix: k8s.

metrics:
  enabled: true
  serviceMonitor:
    enabled: true

podAnnotations:
  reloader.stakater.com/auto: "true"

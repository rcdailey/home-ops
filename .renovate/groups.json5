{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  packageRules: [
    {
      description: "Cilium Group",
      groupName: "Cilium",
      matchPackageNames: ["/cilium/"],
      minimumGroupSize: 2,
    },
    {
      description: "Flux Operator Group",
      groupName: "Flux Operator",
      matchPackageNames: ["/flux-operator/", "/flux-instance/", "/flux-operator-manifests/"],
      minimumGroupSize: 3,
    },
    {
      description: "Immich Group",
      groupName: "Immich",
      matchPackageNames: ["ghcr.io/immich-app/**"],
      minimumGroupSize: 2,
    },
    {
      description: "Rook Ceph Group",
      groupName: "Rook Ceph",
      matchPackageNames: ["ghcr.io/rook/**"],
      minimumReleaseAge: "10 days",
      minimumGroupSize: 2,
    },
    {
      description: "MariaDB Operator",
      groupName: "MariaDB",
      matchPackageNames: ["/mariadb-operator/"],
      minimumGroupSize: 2,
    },
    {
      description: "ToolHive Group",
      groupName: "ToolHive",
      matchPackageNames: ["/toolhive/"],
      minimumGroupSize: 2,
    },
    {
      // Groups Kubernetes version upgrades across mise (kubectl), tuppr, and talenv (kubelet)
      description: "Kubernetes Group",
      groupName: "Kubernetes",
      matchPackageNames: ["/kubelet/", "/kubectl/"],
      minimumGroupSize: 3,
    },
    {
      // Groups Talos OS packages across datasources (docker, mise/aqua, helm, etc.)
      // minimumGroupSize ensures mise tool + installer image are grouped together
      // Excludes kubelet which is a Kubernetes component, not Talos itself
      description: "Talos Group",
      groupName: "Talos",
      matchPackageNames: [
        "/siderolabs/",
        "/talosctl/",
        "!/kubelet/",
      ],
      minimumGroupSize: 2,
    },
  ],
}
